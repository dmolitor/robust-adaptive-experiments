
# -------------------------------------------------------------------------
# Description: Label RCT sim data. 
# Author: Sammy Gold 
# Date Created: March 7th, 2025 
# Logs
#     - 3.7.25: file created 


# -------------------------------------------------------------------------
library(tidyverse)
library(Hmisc)

wd <- "/users/sammygold/Documents/GitHub/robust-adaptive-experiments/"
raw_fp <- paste0(wd, "/data/rct_sim/SDC - Data - Recoded.csv")


# -------------------------------------------------------------------------
raw <- read_csv(raw_fp) 

# adding in variable labels for familiarity 
label(raw$StartDate) <- "Respondent Start Timestamp"
label(raw$EndDate) <- "Respondent End Timestamp"
label(raw$Supplier) <- "Survey Panel Company"
label(raw$Gender) <- "Male, Female, Other"
label(raw$Age) <- "Age in Years"
label(raw$Ideology) <- "Political Ideology"
label(raw$Education) <- "HS or less - Postgraduate"
label(raw$Party_Gen) <- "1 = Republican, 2 = Democrat, 3 = Independent, 4 = Other (Excluded)"
label(raw$Party_Rep) <- "Republican Strength: 1 = Strong, 2 = Not very strong"
label(raw$Party_Dem) <- "Democrat Strength: 1 = Strong, 2 = Not very strong"
label(raw$Party_Ind) <- "1 = Closer to Republican, 2 = Closer to Democratic"
label(raw$Condition) <- "TREATMENT: Intervention Types (26)"
label(raw$Inparty_Person) <- "Republican or Democrat"
label(raw$SPV_1_2) <- "OUTCOME: Support for Partisan Violence - Is it OK to send threatening and intimidating messages to party leaders? Never (0) - Always (100)"
label(raw$SPV_2_2) <- "OUTCOME: Support for Partisan Violence - When, if ever, is it OK for an ordinary Democrat/Republican in the public to harass an ordinary Democrat/Republican on the Interent, in a way that makes the target feel frightened? Not justified (0) - Extremely Justified (100)" 
label(raw$SPV_3_1) <- "OUTCOME: Support for Partisan Violence - How much do you feel it is justified to use violence in advancing their political goals these days? Not justified (0) - Extremeley Justified (100)"
label(raw$SPV_4_2) <- "OUTCOME: Support for Partisan Violence - How much do you feel it is justified to use violence if the Democrat/Republican party wins more races in the next election? Not justified (0) - Extremeley Justified (100)"
label(raw$ADA_1_1) <- "OUTCOME: Support for Undemocratic Practices - Democrats/Republicans should reduce the number of polling stations in areas that support Democrats/Republicans. Strongly disagree (0) - Stongly agree (100)"
label(raw$ADA_2_1) <- "OUTCOME: Support for Undemocratic Practices - Democrats/Republican governors should ignore unfavorable court rulings by Democrats/Republics-appointed judges. Strongly disagree (0) - Strongly agree (100)"
label(raw$ADA_3_1) <- "OUTCOME: Support for Undemocratic Practices - Democrats/Republican governors should prosecute journalists who accuse Democrat/Republican politicians of misconduct without revealing sources. Strongly disagree (0) - Strongly agree (100)"
label(raw$ADA_4_1) <- "OUTCOME: Support for Undemocratic Practices - Democrats/Republicans should not accept the results of elections if they lose. Strongly disagree (0) - Strongly agree (100)"
label(raw$SDR_1_1) <- "OUTCOME: Social Distrust - Automatically registering eligible Americans to vote. Strongly oppose (0) - Strongly support (100)"
label(raw$SDR_2_1) <- "OUTCOME: Social Distrust - Requiring that voters must present a government-issued photo identification in order to vote. Strongly oppose (0) - Strongly support (100)"
label(raw$SDR_3_1) <- "OUTCOME: Social Distrust - Allowing any eligible citizen to vote by mail. Strongly oppose (0) - Strongly support (100)"
label(raw$SDR_4_1) <- "OUTCOME: Social Distrust - Banning partisan gerrymandering by creating independent commisions to draw the lines of legislative and congressional districts in all states. Strongly oppose (0) - Strongly support (100)"
label(raw$BEPF_R1_1) <- "OUTCOME: Biased Evaluation of Politicized Facts - Climate Change. Certainly False (0) - Certainly true (100)"
label(raw$BEPF_R2_1) <- "OUTCOME: Biased Evaluation of Politicized Facts - Crime rate among illegal immigrates is lower than American citizens. Certainly False (0) - Certainly true (100)"
label(raw$BEPF_R3_1) <- "OUTCOME: Biased Evaluation of Politicized Facts - More White American Homeowners than Black Americans. Certainly false (0) - Certainly true (100)"
label(raw$BEPF_R4_1) <- "OUTCOME: Biased Evaluation of Politicized Facts - Joe Biden was lawfully elected. Certainly false (0) - Certainly true (100)"
label(raw$BEPF_D1_1) <- "OUTCOME: Biased Evaluation of Politicized Facts - Lowest rate of Blacks and Hispanics in poverty during Trump admin. Certainly false (0) - Certainly true (100)"
label(raw$BEPF_D2_1) <- "OUTCOME: Biased Evaluation of Politicized Facts - Trump administration deported fewer undocumented immigrants than Obama administration. Certainly false (0) - Certainly true (100)"
label(raw$BEPF_D3_1) <- "OUTCOME: Biased Evaluation of Politicized Facts - Unemployment level reached lowest level during Trump's presidency. Certainly false (0) - Certainly true (100)"
label(raw$BEPF_D4_1) <- "OUTCOME: Biased Evaluation of Politicized Facts - Trump was lawfully elected President in the 2016 election against Hillary Clinton. Certainly false (0) - Certainly true (100)"
label(raw$PA_Dem_Pol_1) <- "OUTCOME: Political Animosity - How would you rate Democratic politicians? Very cold (0) - Very warm (100)"
label(raw$PA_Dem_Vot_1) <- "OUTCOME: Political Animosity - How would you rate Democratic voters? Very cold (0) - Very warm (100)"
label(raw$PA_Rep_Pol_1) <- "OUTCOME: Political Animosity - How would you rate Republican politicans? Very cold (0) - Very warm (100)"
label(raw$PA_Rep_Vot_1) <- "OUTCOME: Political Animosity - How would you rate Republican voters? Very cold (0) - Very warm (100)"
label(raw$VotInt) <- "2024 Voter Intention. 1 = Republican, 2 = Democratic, 3 = Independent, 4 = Another, 5 = Undecided, 6 = No Vote"
label(raw$PI_Pre) <- "How important is being a Democrat/Republican to you?"
label(raw$VacInt_1) <- "COVID Vaccine Boosters. Extremely unlikely (0) - Extremely likely (100)"
label(raw$Time_Int) <- "? - best guess = time to complete survey"
label(raw$PA_Out) <- "OUTCOME: Partisan Animosity - Feeling Thermometer"
label(raw$PA_Ing) <- "Partisan Animosity - ? "
label(raw$PA_Diff) <- "Partisan Animosity - ?"
label(raw$PA_DG) <- "OUTCOME: Partisan Animosity - Dictator Game"
label(raw$PA) <- "OUTCOME: Partisan Animosity - Avg of Feeling Thermometer Score and Dictator Game Score"
label(raw$ADA) <- "OUTCOME: Support for Undemocratic Practices - Avg. of all sliding scale responses"
label(raw$SPV) <- "OUTCOME: Support for Partisan Violence - Avg of all sliding scale responses"
label(raw$SPV_D) <- "OUTCOME: Support for Partisan Violence - Dichotomized (score > 25 ~ 1, TRUE ~ 0) "
label(raw$SUC) <- "OUTCOME: Support for Undemocratic Candidates - Average of all sliding scale responses"
label(raw$ODR_1) <- "OUTCOME: Opposition to Automatic Voter Registration"
label(raw$ODR_2) <- "OUTCOME: Opposition to Voter ID"
label(raw$ODR_3) <- "OUTCOME: Opposition to Vote by Mail"
label(raw$ODR_4) <- "OUTCOME: Opposition to Ban of Gerrymandering"
label(raw$BEPF) <- "OUTCOME: Biased Evaluation of Politicized Facts"
label(raw$EleDen) <- "OUTCOME: Election Denial"
label(raw$AttLib) <- "Average political attitudes score (higher score = more liberal)"
label(raw$AttExt) <- "Average political attitudes score (higher score = more extreme)"
label(raw$OppBip) <- "OUTCOME: Opposition to Bipartisan Cooperation"
label(raw$SocDis) <- "OUTCOME: Social Distance"
label(raw$SocDistrust) <- "OUTCOME: Social Distrust"
label(raw$Med_Dis) <- "OUTCOME: Perceived Dissimilarity with Outpartisans"
label(raw$Med_Pid) <- "OUTCOME: Strength of Partisanship as a Social Identity"
label(raw$Med_Ang) <- "OUTCOME: Anger towards Outpartisans"
label(raw$Med_Une) <- "OUTCOME: Lack of Empathy Towards Outpartisans"
label(raw$Med_Div) <- "OUTCOME: Lack of Unity Against a Common Enemy"
label(raw$Med_Thr) <- "OUTCOME: Perceived Threat of Outpartisans"
label(raw$Composite) <- "OUTCOME: Composite of Outcomes - (PA + ADA + SPV + SUC + OppBip + SocDis + SocDistrust + BEPF)/8"
label(raw$Race) <- "Cleaned race variable"
label(raw$PI_Pre) <- "How important is being a Democrat/Republican? 0 (Not important) - 100 (Extremely Important)"
label(raw$Attrited_ADA) <- "0/1, 1 = NA for outcome"
label(raw$Attrited_SPV) <- "0/1, 1 = NA for outcome"
label(raw$Attrited_PA) <- "0/1, 1 = NA for outcome"
label(raw$Attrited_SUC) <- "0/1, 1 = NA for outcome"
label(raw$Attrited_BEPF) <- "0/1, 1 = NA for outcome"
label(raw$Attrited_OppBip) <- "0/1, 1 = NA for outcome"
label(raw$Attrited_SocDistrust) <- "0/1, 1 = NA for outcome"
label(raw$Attrited_SocDis) <- "0/1, 1 = NA for outcome"
label(raw$Attrited_Composite) <- "0/1, 1 = NA for outcome"
label(raw$Attrited_PA_Out) <- "0/1, 1 = NA for outcome"
label(raw$Attrited_PA_DG) <- "0/1, 1 = NA for outcome"
label(raw$Attrited_ODR_1) <- "0/1, 1 = NA for outcome"
label(raw$Attrited_ODR_2) <- "0/1, 1 = NA for outcome"
label(raw$Attrited_ODR_3) <- "0/1, 1 = NA for outcome"
label(raw$Attrited_ODR_4) <- "0/1, 1 = NA for outcome"
label(raw$Attrited_EleDen) <- "0/1, 1 = NA for outcome"
label(raw$Attrited_Med_Dis) <- "0/1, 1 = NA for outcome"
label(raw$Attrited_Med_Pid) <- "0/1, 1 = NA for outcome"
label(raw$Attrited_Med_Ang) <- "0/1, 1 = NA for outcome"
label(raw$Attrited_Med_Une) <- "0/1, 1 = NA for outcome"
label(raw$Attrited_Med_Div) <- "0/1, 1 = NA for outcome"
label(raw$Attrited_Med_Thr) <- "0/1, 1 = NA for outcome"
label(raw$weights_ada) <- "attrition weights (ipw)"
label(raw$weights_spv) <- "attrition weights (ipw)"
label(raw$weights_pa) <- "attrition weights (ipw)"
label(raw$weights_suc) <- "attrition weights (ipw)"
label(raw$weights_bepf) <- "attrition weights (ipw)"
label(raw$weights_oppbip) <- "attrition weights (ipw)"
label(raw$weights_socdistrust) <- "attrition weights (ipw)"
label(raw$weights_socdis) <- "attrition weights (ipw)"
label(raw$weights_composite) <- "attrition weights (ipw)"
label(raw$weights_pa_ft) <- "attrition weights (ipw) - attrited(0/1) ~ treatment, gender, age, race, edu, political identity, supplier"
label(raw$weights_pa_dg) <- "attrition weights (ipw) - attrited(0/1) ~ treatment, gender, age, race, edu, political identity, supplier"
label(raw$weights_odr1) <- "attrition weights (ipw) - attrited(0/1) ~ treatment, gender, age, race, edu, political identity, supplier"
label(raw$weights_odr2) <- "attrition weights (ipw) - attrited(0/1) ~ treatment, gender, age, race, edu, political identity, supplier"
label(raw$weights_odr3) <- "attrition weights (ipw) - attrited(0/1) ~ treatment, gender, age, race, edu, political identity, supplier"
label(raw$weights_odr4) <- "attrition weights (ipw) - attrited(0/1) ~ treatment, gender, age, race, edu, political identity, supplier"
label(raw$weights_eleden) <- "attrition weights (ipw) - attrited(0/1) ~ treatment, gender, age, race, edu, political identity, supplier"
label(raw$weights_med_dis) <- "attrition weights (ipw) - attrited(0/1) ~ treatment, gender, age, race, edu, political identity, supplier"
label(raw$weights_med_pid) <- "attrition weights (ipw) - attrited(0/1) ~ treatment, gender, age, race, edu, political identity, supplier"
label(raw$weights_med_ang) <- "attrition weights (ipw) - attrited(0/1) ~ treatment, gender, age, race, edu, political identity, supplier"
label(raw$weights_med_une) <- "attrition weights (ipw) - attrited(0/1) ~ treatment, gender, age, race, edu, political identity, supplier"
label(raw$weights_med_div) <- "attrition weights (ipw) - attrited(0/1) ~ treatment, gender, age, race, edu, political identity, supplier"
label(raw$weights_med_thr) <- "attrition weights (ipw) - attrited(0/1) ~ treatment, gender, age, race, edu, political identity, supplier"



